<html>
  <head>
    <!--  <script src="//d2wy8f7a9ursnm.cloudfront.net/v6/bugsnag.min.js"></script>
    <script>
      window.bugsnagClient = bugsnag("API_KEY");
    </script> -->
    <script type="text/javascript">
      // checking test commit 2
      rudderanalytics = window.rudderanalytics = [];
      var methods = ["load","ready","track"];

      // this is required to be set before RudderAnalytics is loaded/run
      window.rudderanalytics.syncPixelCallback = obj => {
        /*  window.rudderanalytics.track(
          "sync lotame",
          { destination: obj.destination },
          { integrations: { All: false, S3: true } }
        ); */
      };
      var methods = [
        "load",
        "page",
        "identify",
       "track",
       "ready"
      ];
      for (var i = 0; i < methods.length; i++) {
        var method = methods[i];
        rudderanalytics[method] = (function(methodName) {
          return function() {
            rudderanalytics.push([methodName, ...arguments]);
          };
        })(method);
      }

      rudderanalytics.load("1bt0vcThjsXCUngMjgTFB62xAyg", "http://localhost:8080", {
        logLevel: "DEBUG",
        configUrl: "http://localhost:5000/sourceConfig"

      });
    //  rudderanalytics.track();
      //rudderanalytics.page(); //Turn this on if Chartbeat is a destination
    </script>

    <script src="./browser.js"></script>

    <script>
      window.rudderanalytics.ready(() => {
        console.log("we are all set!!!");
      
      });
    // window.rudderanalytics.page();
      window.rudderanalytics.identify("ruchu123", {
        name: "Ruchira Moitra",
        email: "ruchira@gmail.com",
        plan: "Enterprise",
        company: {
          id: "abc123"
        },
        createdAt: "Thu Mar 24 2016 17:46:45 GMT+0000 (UTC)"
      });

      window.rudderanalytics.track("Order Completed", {
        orderId: 'ruchiraorder1',
            total: 99.99,
            shipping: 13.99,
            tax: 20.99,
            currency: 'INR',
            products: [
              {
                quantity: 1,
                price: 24.75,
                name: 'my product',
                sku: 'p-298'
              },
              {
                quantity: 3,
                price: 24.75,
                name: 'other product',
                sku: 'p-299'
              }
            ]
      });
      window.rudderanalytics.track('Product List Filtered', {
            category: 'cat 1',
            list_id: '1234',
            filters: [
              {
                type: 'department',
                value: 'beauty'
              },
              {
                type: 'price',
                value: 'under'
              }
            ],
            sorts: [
              {
                type: 'price',
                value: 'desc'
              }
            ],
            products: [
              {
                product_id: '507f1f77bcf86cd799439011',
                productDimension: 'My Product Dimension',
                productMetric: 'My Product Metric'
              }
            ],
            testDimension: true,
            testMetric: true
          });
      window.rudderanalytics.track('Product List Viewed', {
            category: 'cat 1',
            list_id: '1234',
            products: [
              {
                product_id: '507f1f77bcf86cd799439011',
                productDimension: 'My Product Dimension1',
                productMetric: 'My Product Metric1',
                position: 10
              },
              {
                product_id: '507f1f77bcf86cd799439012',
                productDimension: 'My Product Dimension2',
                productMetric: 'My Product Metric2',
                position: 12
              },
              {
                product_id: '507f1f77bcf86cd799439015',
                productDimension: 'My Product Dimension3',
                productMetric: 'My Product Metric3',
                position: 8
              }
            ]
          });
      window.rudderanalytics.track('Checkout Step Viewed', {
            currency: 'CAD',
            step: 2
          });
      window.rudderanalytics.page();
    </script>
  </head>
  <body>
    <h1>Relax while I finish my testing process....</h1>
 
  </body>
</html>